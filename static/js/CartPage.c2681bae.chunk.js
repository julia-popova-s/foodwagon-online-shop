"use strict";(self.webpackChunkfoodwagon_online_shop=self.webpackChunkfoodwagon_online_shop||[]).push([[263],{5543:(e,t,a)=>{a.d(t,{R:()=>s});var r=a(1694),_=a.n(r);const c={priceBlock__price:"priceBlock_priceBlock__price__FRHQY",priceBlock__price_theme:"priceBlock_priceBlock__price_theme__My3ay"};var n=a(184);const s=e=>{let{classNames:t,discount:a,price:r}=e;return(0,n.jsxs)("div",{className:c.priceBlock,children:[a?(0,n.jsxs)("div",{className:_()(c.priceBlock__price,t),children:["$ ",(r-r*a/100).toFixed(2)]}):null,(0,n.jsxs)("div",{className:_()(c.priceBlock__price,t,{[c.priceBlock__price_theme]:a}),children:["$",r.toFixed(2)]})]})}},4968:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var r=a(1632),_=a(9806),c=a(1694),n=a.n(c),s=a(2791),o=a(1087),l=a(7689),d=a(61),i=a(3232),u=a(7597),p=a(5382),m=a(549);const h="popup_popup__U3id6",x="popup_popup__title__HP4Ru",N="popup_popup__btns__ZnERK",j="popup_popup__btnOk__7VQX1",v="popup_popup__btnClose__2uApD",g="popup_popupWrapper__MZZBQ";var b=a(184);const f=(0,s.forwardRef)(((e,t)=>{let{children:a,handleClickClose:r,handleClickOk:_,isOpen:c}=e;return(0,b.jsx)(m.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,b.jsx)("div",{className:g,children:(0,b.jsxs)("div",{className:h,ref:t,children:[(0,b.jsx)("div",{className:x,children:a}),(0,b.jsxs)("div",{className:N,children:[(0,b.jsx)("button",{className:j,onClick:_,children:"Ok"}),(0,b.jsx)("button",{className:v,onClick:r,children:"Close"})]})]})})})}));var C=a(8282);const k="modal_popup__B0qva",P="modal_popup__title__bhNTi",B="modal_popup__name__PE-yS",I="modal_popup__btns__L-n9R",y="modal_popup__btnClose__IeAx0",L="modal_popupWrapper__78v0f",w=(0,s.forwardRef)(((e,t)=>{let{handleCloseModal:a,isOpen:r,name:_,orderNumber:c}=e;const n=(0,i.CG)(p.Cn);return(0,b.jsx)(m.Z,{classNames:"alert",in:r,timeout:300,unmountOnExit:!0,children:(0,b.jsx)("div",{className:L,children:(0,b.jsxs)("div",{className:k,ref:t,children:[(0,b.jsx)("div",{className:P,children:(0,b.jsxs)("span",{className:B,children:["Order \u2116",c," from restaurant \xab",_,"\xbb was created, user: ",n]})}),(0,b.jsx)("div",{className:I,children:(0,b.jsx)("button",{className:y,onClick:a,children:"Close"})})]})})})}));var O=a(4393),R=a(4032),S=a(5543);const E={product:"productCard_product__kWhxv",product__image:"productCard_product__image__0PTz9",product__img:"productCard_product__img__8WvhI",product__btnReturn:"productCard_product__btnReturn__E0rGW",product__btnDelete:"productCard_product__btnDelete__s-KgA",info:"productCard_info__9vGPh",info__title:"productCard_info__title__EQYJY",info__titleLink:"productCard_info__titleLink__wN532",info__name:"productCard_info__name__va583",info__nameIcon:"productCard_info__nameIcon__B1hT7",info__nameLink:"productCard_info__nameLink__bKh6S",info__price:"productCard_info__price__4Sfvn",info__price_theme:"productCard_info__price_theme__Nywr8",counter:"productCard_counter__ztm5Q",counter__btns:"productCard_counter__btns__Ir6Xj",counter__price:"productCard_counter__price__VTGt9",loadingBar:"productCard_loadingBar__3Ik57",loadingBar__inner:"productCard_loadingBar__inner__+TFjL",loading:"productCard_loading__SPeyn",loadingBar__shadow:"productCard_loadingBar__shadow__npya0",btnReturn:"productCard_btnReturn__mmvCI",returnedBlock:"productCard_returnedBlock__kR5H+",product__counterWithPrice:"productCard_product__counterWithPrice__257UO",product__info:"productCard_product__info__SB-cV",product__discount:"productCard_product__discount__7Ti1X"},T=e=>{let{amount:t,discount:a,handleAddProduct:c,handleDeleteProduct:l,handleInputCount:d,handleRemoveProduct:i,id:u,image:p,price:m,quantity:h,restaurantId:x,restaurantName:N,title:j}=e;const[v,g]=(0,s.useState)(!1),f={discount:a,id:u,image:p,price:m,restaurantId:x,restaurantName:N,title:j};return(0,s.useEffect)((()=>{if(v){const e=setTimeout((()=>{i({id:u,restaurantId:x})}),2e3);return()=>clearTimeout(e)}}),[v]),(0,b.jsxs)("div",{className:E.product,children:[(0,b.jsx)("div",{className:E.product__image,children:(0,b.jsxs)(o.rU,{className:E.product__imageLink,to:"/restaurant/".concat(x,"/product/").concat(u),children:[(0,b.jsx)("img",{alt:j,className:E.product__img,src:"/foodwagon-online-shop"+p}),a>0&&(0,b.jsx)(R.s,{classNames:E.product__discount,discount:a,view:"smallLabel"})]})}),v?(0,b.jsxs)("div",{className:E.returnedBlock,children:[(0,b.jsx)("button",{className:n()(E.btnReturn,E.product__btnReturn),onClick:()=>g(!1),children:"Restore to cart"}),(0,b.jsx)("div",{className:n()(E.loadingBar,E.product__loadingBar),children:(0,b.jsx)("div",{className:E.loadingBar__inner,children:(0,b.jsx)("div",{className:E.loadingBar__shadow})})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:n()(E.product__info,E.info),children:[(0,b.jsx)("p",{className:E.info__title,children:(0,b.jsx)(o.rU,{className:E.info__titleLink,to:"/restaurant/".concat(x,"/product/").concat(u),children:j})}),(0,b.jsxs)("p",{className:E.info__name,children:[(0,b.jsx)(_.G,{className:E.info__nameIcon,icon:r.opg}),(0,b.jsx)(o.rU,{className:E.info__nameLink,to:"/restaurant/".concat(x,"/product/").concat(u),children:N})]}),(0,b.jsx)(S.R,{discount:a,price:m})]}),(0,b.jsxs)("div",{className:n()(E.product__counter,E.counter),children:[(0,b.jsx)(O.A,{classNames:E.counter__btns,handleInputQuantity:e=>{e?d({id:u,price:m,quantity:e,restaurantId:x}):g(!0)},handleMinusProduct:()=>l({id:u,restaurantId:x}),handlePlusProduct:()=>c(f),quantity:h}),(0,b.jsxs)("div",{className:E.counter__price,children:["$ ",t&&t.toFixed(2)]}),(0,b.jsx)("button",{className:n()(E.product__btnDelete,E.btnDelete),onClick:()=>g(!0),children:"x"})]})]})]})},W={cart:"cartPage_cart__CLPdT",cart__title:"cartPage_cart__title__IrbR1",cart__inner:"cartPage_cart__inner__KKeqI",cart__top:"cartPage_cart__top__vzs6V",cart__list:"cartPage_cart__list__lBLWc",cart__name:"cartPage_cart__name__UTZZE",cart__empty:"cartPage_cart__empty__jpDlx",cart__result:"cartPage_cart__result__u+-j5",cart__result_color:"cartPage_cart__result_color__SxWL9",cart__message:"cartPage_cart__message__D1lbi",cart__image:"cartPage_cart__image__FIll4",cart__clearIcon:"cartPage_cart__clearIcon__37iuC",cart__clearBtn:"cartPage_cart__clearBtn__Dg8ed",cart__btnOrder:"cartPage_cart__btnOrder__Plhiw",cart__orderInfo:"cartPage_cart__orderInfo__iPxQf",cart__restaurantName:"cartPage_cart__restaurantName__eSmWN",cart__links:"cartPage_cart__links__CPEXU",cart__linkItem:"cartPage_cart__linkItem__lKjRc",popup__name:"cartPage_popup__name__yK6aa",cart__orderBtn:"cartPage_cart__orderBtn__7n4Q1"};let F=0;const G=()=>{const{pathname:e}=(0,l.TH)(),[t,a]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),[N,j]=(0,s.useState)(!1),v=(0,i.CG)(u.co),g=(0,i.CG)(u.fU),k=(0,i.CG)(p.Kj),P=(0,i.CG)(u.iq),B=(0,i.TL)(),I=(0,l.s0)();(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[e]);const y=()=>{x(!1)},L=(0,d.O)(y);return v?(0,b.jsxs)("div",{className:W.cart,children:[(0,b.jsxs)("div",{className:n()(W.cart__container,"container"),children:[(0,b.jsx)("h1",{className:W.cart__title,children:"Shopping cart"}),(0,b.jsx)("div",{className:W.cart__inner,children:v&&g.map((e=>{const[t,c]=e,o=Object.values(c.items),l=c.totalAmount,d=c.totalCount,i=o[0]&&o[0].restaurantName;return(0,b.jsxs)("div",{className:W.cart__list,children:[(0,b.jsxs)("div",{className:W.cart__top,children:[(0,b.jsx)("div",{className:W.cart__restaurantName,children:i}),(0,b.jsx)("div",{className:W.cart__clear,children:(0,b.jsxs)("button",{className:W.cart__clearBtn,onClick:()=>(e=>{let{restaurantId:t,restaurantName:r}=e;a(r),m(t),x(!0)})({restaurantId:t,restaurantName:i}),children:[(0,b.jsx)(_.G,{className:W.cart__clearIcon,icon:r.Vui,size:"lg"}),"clear"]})})]}),d?(0,b.jsxs)(b.Fragment,{children:[o.map((e=>{let{quantity:t,...a}=e;return(0,s.createElement)(T,{...a,handleAddProduct:e=>{return t=e,void B((0,u.gK)(t));var t},handleDeleteProduct:e=>((e,t)=>{B(t<1?(0,u.kh)(e):(0,u.gb)(e))})(e,t),handleInputCount:e=>(e=>{B((0,u.nQ)(e))})(e),handleRemoveProduct:e=>(e=>{B((0,u.kh)(e))})(e),key:a.id,quantity:t})})),(0,b.jsxs)("div",{className:n()(W.cart__orderInfo,W.cart__orderInfo_border),children:[(0,b.jsxs)("p",{className:W.cart__result,children:["Your order for the total amount"," ",(0,b.jsxs)("span",{className:W.cart__result_color,children:["$",l&&l.toFixed(2)]})," and"," ",(0,b.jsx)("span",{className:W.cart__result_color,children:d})," items"]}),(0,b.jsx)(C.s,{classNames:W.cart__orderBtn,handleClick:()=>((e,t)=>{const r=P[e];k?(a(t),m(e),F++,j(!0),B((0,p.qQ)({id:e,list:r,name:t,orderNumber:F}))):I("/login")})(t,i),name:"Place an order"})]})]}):null]},t)}))})]}),(0,b.jsx)(w,{handleCloseModal:()=>{B((0,u.LL)({restaurantId:c})),j(!1)},isOpen:N,name:t,orderNumber:F}),(0,b.jsx)(f,{handleClickClose:y,handleClickOk:()=>{B((0,u.LL)({restaurantId:c})),x(!1)},isOpen:h,ref:L,children:(0,b.jsxs)(b.Fragment,{children:["Are you sure you want to empty the cart from ",(0,b.jsxs)("span",{className:W.popup__name,children:["\xab",t,"\xbb"]}),"?"]})})]}):(0,b.jsx)("div",{className:W.cart,children:(0,b.jsx)("div",{className:n()(W.cart__container,"container"),children:(0,b.jsx)("div",{className:W.cart__inner,children:(0,b.jsxs)("div",{className:W.cart__empty,children:[(0,b.jsx)("p",{className:W.cart__name,children:"Shopping cart is empty"}),(0,b.jsx)("p",{className:W.cart__message,children:"Use the search to find everything you need."}),(0,b.jsxs)("p",{className:W.cart__links,children:["Go to"," ",(0,b.jsx)(o.rU,{className:W.cart__linkItem,to:"/search",children:"search page"})," ","or"," ",(0,b.jsx)(o.rU,{className:W.cart__linkItem,to:"/",children:"menu"})]})]})})})})}},4393:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(1694),_=a.n(r),c=a(2791);const n={buttons:"counter_buttons__OVEIu",buttons__input:"counter_buttons__input__LU3WF",button:"counter_button__TZDrT",disabledBtn:"counter_disabledBtn__k6ceu"};var s=a(184);const o=e=>{let{classNames:t,handleInputQuantity:a,handleMinusProduct:r,handlePlusProduct:o,quantity:l}=e;const[d,i]=(0,c.useState)(l);return(0,s.jsxs)("div",{className:_()(n.buttons,t),children:[(0,s.jsx)("button",{className:_()(n.button,n.buttons__plus,{[n.disabledBtn]:d>98}),disabled:d>98,onClick:()=>{o(),i(d+1)},children:"+"}),(0,s.jsx)("input",{className:_()(n.buttons__input),maxLength:2,onChange:e=>{const t=e.target.value.replace(/[^0-9]/gi,"");""!==t?(i(+t),a(+t)):i(0)},type:"text",value:d}),(0,s.jsx)("button",{className:_()(n.buttons__minus,n.button),onClick:()=>{r(),i(d-1)},children:"\u2013"})]})};o.defaultProps={quantity:0}},4032:(e,t,a)=>{a.d(t,{s:()=>m});var r=a(1694),_=a.n(r);const c="discount_label__8oW+1",n="discount_label__discount__xZACj",s="discount_label__discountPercent__ninge",o="discount_label__discountOff__nYZns",l="discount_smallLabel__ZzO-o",d="discount_smallLabel__discount__c4Cpa",i="discount_smallLabel__discountPercent__GdmW4",u="discount_smallLabel__discountOff__WMe9z";var p=a(184);const m=e=>{let{classNames:t,discount:a,view:r}=e;const m="smallLabel"===r;return(0,p.jsxs)("div",{className:_()(c,t,{[l]:m}),children:[(0,p.jsx)("div",{className:_()(n,{[d]:m}),children:a}),(0,p.jsx)("div",{className:_()(s,{[i]:m}),children:"%"}),(0,p.jsx)("div",{className:_()(o,{[u]:m}),children:"off"})]})}},8282:(e,t,a)=>{a.d(t,{s:()=>o});var r=a(1694),_=a.n(r),c=a(3080);const n={orderButton:"orderButton_orderButton__uKFSW"};var s=a(184);const o=e=>{let{classNames:t,handleClick:a,name:r}=e;return(0,s.jsxs)("button",{className:_()(n.orderButton,t),onClick:a,children:[r,(0,s.jsx)(c.Q,{className:n.orderButton__icon,src:"".concat("/foodwagon-online-shop","/images/cards-big/btn.svg"),wrapper:"span"})]})}},61:(e,t,a)=>{a.d(t,{O:()=>_});var r=a(2791);const _=e=>{const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const a=a=>{var r;null!==(r=t.current)&&void 0!==r&&r.contains(a.target)||e()};return document.body.addEventListener("mousedown",a),()=>document.body.removeEventListener("mousedown",a)}),[e]),t}}}]);
//# sourceMappingURL=CartPage.c2681bae.chunk.js.map