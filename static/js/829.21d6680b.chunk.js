"use strict";(self.webpackChunkfoodwagon_online_shop=self.webpackChunkfoodwagon_online_shop||[]).push([[829],{3829:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var r=a(1632),_=a(9806),c=a(1694),n=a.n(c),s=a(2791),o=a(9434),l=a(1087),d=a(7689),i=a(182),u=a(8925),p=a(549);const m="popup_popup__U3id6",h="popup_popup__title__HP4Ru",x="popup_popup__btns__ZnERK",N="popup_popup__btnOk__7VQX1",j="popup_popup__btnClose__2uApD",v="popup_popupWrapper__MZZBQ";var g=a(184);const b=(0,s.forwardRef)(((e,t)=>{let{children:a,handleClickClose:r,handleClickOk:_,show:c}=e;return(0,g.jsx)(p.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,g.jsx)("div",{className:v,ref:t,children:(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("div",{className:h,children:a}),(0,g.jsxs)("div",{className:x,children:[(0,g.jsx)("button",{className:N,onClick:_,children:"Ok"}),(0,g.jsx)("button",{className:j,onClick:r,children:"Close"})]})]})})})}));var f=a(8282);const C="modal_popup__B0qva",k="modal_popup__title__bhNTi",P="modal_popup__name__PE-yS",B="modal_popup__btns__L-n9R",I="modal_popup__btnClose__IeAx0",y="modal_popupWrapper__78v0f",L=(0,s.forwardRef)(((e,t)=>{let{handleCloseModal:a,name:r,orderNumber:_,show:c}=e;const n=(0,o.v9)(u.Cn);return(0,g.jsx)(p.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,g.jsx)("div",{className:y,ref:t,children:(0,g.jsxs)("div",{className:C,children:[(0,g.jsx)("div",{className:k,children:(0,g.jsxs)("span",{className:P,children:["Order \u2116",_," from restaurant \xab",r,"\xbb was created, user: ",n]})}),(0,g.jsx)("div",{className:B,children:(0,g.jsx)("button",{className:I,onClick:a,children:"Close"})})]})})})}));var w=a(4393),R=a(4032),S=a(5543);const E={product:"productCard_product__kWhxv",product__image:"productCard_product__image__0PTz9",product__img:"productCard_product__img__8WvhI",product__btnReturn:"productCard_product__btnReturn__E0rGW",product__btnDelete:"productCard_product__btnDelete__s-KgA",info:"productCard_info__9vGPh",info__title:"productCard_info__title__EQYJY",info__titleLink:"productCard_info__titleLink__wN532",info__name:"productCard_info__name__va583",info__nameIcon:"productCard_info__nameIcon__B1hT7",info__nameLink:"productCard_info__nameLink__bKh6S",info__price:"productCard_info__price__4Sfvn",info__price_theme:"productCard_info__price_theme__Nywr8",counter:"productCard_counter__ztm5Q",counter__btns:"productCard_counter__btns__Ir6Xj",counter__price:"productCard_counter__price__VTGt9",loadingBar:"productCard_loadingBar__3Ik57",loadingBar__inner:"productCard_loadingBar__inner__+TFjL",loading:"productCard_loading__SPeyn",loadingBar__shadow:"productCard_loadingBar__shadow__npya0",btnReturn:"productCard_btnReturn__mmvCI",returnedBlock:"productCard_returnedBlock__kR5H+",product__counterWithPrice:"productCard_product__counterWithPrice__257UO",product__info:"productCard_product__info__SB-cV",product__discount:"productCard_product__discount__7Ti1X"},O=e=>{let{amount:t,discount:a,handleAddProduct:c,handleDeleteProduct:o,handleInputCount:d,handleRemoveProduct:i,id:u,image:p,price:m,quantity:h,restaurantId:x,restaurantName:N,title:j}=e;const[v,b]=(0,s.useState)(!1),f={discount:a,id:u,image:p,price:m,restaurantId:x,restaurantName:N,title:j};return(0,s.useEffect)((()=>{if(v){const e=setTimeout((()=>{i({id:u,restaurantId:x})}),2e3);return()=>clearTimeout(e)}}),[v]),(0,g.jsxs)("div",{className:E.product,children:[(0,g.jsx)("div",{className:E.product__image,children:(0,g.jsxs)(l.rU,{className:E.product__imageLink,to:"/restaurant/".concat(x,"/product/").concat(u),children:[(0,g.jsx)("img",{alt:j,className:E.product__img,src:"/foodwagon-online-shop"+p}),a>0&&(0,g.jsx)(R.s,{classNames:E.product__discount,discount:a,view:"smallLabel"})]})}),v?(0,g.jsxs)("div",{className:E.returnedBlock,children:[(0,g.jsx)("button",{className:n()(E.btnReturn,E.product__btnReturn),onClick:()=>b(!1),children:"Restore to cart"}),(0,g.jsx)("div",{className:n()(E.loadingBar,E.product__loadingBar),children:(0,g.jsx)("div",{className:E.loadingBar__inner,children:(0,g.jsx)("div",{className:E.loadingBar__shadow})})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:n()(E.product__info,E.info),children:[(0,g.jsx)("p",{className:E.info__title,children:(0,g.jsx)(l.rU,{className:E.info__titleLink,to:"/restaurant/".concat(x,"/product/").concat(u),children:j})}),(0,g.jsxs)("p",{className:E.info__name,children:[(0,g.jsx)(_.G,{className:E.info__nameIcon,icon:r.opg}),(0,g.jsx)(l.rU,{className:E.info__nameLink,to:"/restaurant/".concat(x,"/product/").concat(u),children:N})]}),(0,g.jsx)(S.R,{discount:a,price:m})]}),(0,g.jsxs)("div",{className:n()(E.product__counter,E.counter),children:[(0,g.jsx)(w.A,{classNames:E.counter__btns,handleInputQuantity:e=>{e?d({id:u,price:m,quantity:e,restaurantId:x}):b(!0)},handleMinusProduct:()=>o({id:u,restaurantId:x}),handlePlusProduct:()=>c(f),quantity:h}),(0,g.jsxs)("div",{className:E.counter__price,children:["$ ",t&&t.toFixed(2)]}),(0,g.jsx)("button",{className:n()(E.product__btnDelete,E.btnDelete),onClick:()=>b(!0),children:"x"})]})]})]})},W={cart:"cartPage_cart__CLPdT",cart__title:"cartPage_cart__title__IrbR1",cart__inner:"cartPage_cart__inner__KKeqI",cart__top:"cartPage_cart__top__vzs6V",cart__list:"cartPage_cart__list__lBLWc",cart__name:"cartPage_cart__name__UTZZE",cart__empty:"cartPage_cart__empty__jpDlx",cart__result:"cartPage_cart__result__u+-j5",cart__result_color:"cartPage_cart__result_color__SxWL9",cart__message:"cartPage_cart__message__D1lbi",cart__image:"cartPage_cart__image__FIll4",cart__clearIcon:"cartPage_cart__clearIcon__37iuC",cart__clearBtn:"cartPage_cart__clearBtn__Dg8ed",cart__btnOrder:"cartPage_cart__btnOrder__Plhiw",cart__orderInfo:"cartPage_cart__orderInfo__iPxQf",cart__restaurantName:"cartPage_cart__restaurantName__eSmWN",cart__links:"cartPage_cart__links__CPEXU",cart__linkItem:"cartPage_cart__linkItem__lKjRc",popup__name:"cartPage_popup__name__yK6aa",cart__orderBtn:"cartPage_cart__orderBtn__7n4Q1"};let T=0;const F=()=>{const{pathname:e}=(0,d.TH)(),[t,a]=(0,s.useState)(""),[c,p]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),[x,N]=(0,s.useState)(!1),j=(0,s.useRef)(null),v=(0,s.useRef)(null),C=(0,o.v9)(i.fU),k=(0,o.v9)(i.iq),P=(0,o.v9)(i.co),B=(0,o.v9)(u.Kj),I=(0,o.I0)(),y=(0,d.s0)();(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[e]);return(0,s.useEffect)((()=>{const e=e=>{var t;null!==(t=j.current)&&void 0!==t&&t.contains(e.target)&&h(!1)};return document.body.addEventListener("click",e),()=>document.body.removeEventListener("click",e)}),[]),P?(0,g.jsxs)("div",{className:W.cart,children:[(0,g.jsxs)("div",{className:n()(W.cart__container,"container"),children:[(0,g.jsx)("h1",{className:W.cart__title,children:"Shopping cart"}),(0,g.jsx)("div",{className:W.cart__inner,children:P&&C.map((e=>{const[t,c]=e,o=Object.values(c.items),l=c.totalAmount,d=c.totalCount,m=o[0]&&o[0].restaurantName;return(0,g.jsxs)("div",{className:W.cart__list,children:[(0,g.jsxs)("div",{className:W.cart__top,children:[(0,g.jsx)("div",{className:W.cart__restaurantName,children:m}),(0,g.jsx)("div",{className:W.cart__clear,children:(0,g.jsxs)("button",{className:W.cart__clearBtn,onClick:()=>(e=>{let{restaurantId:t,restaurantName:r}=e;a(r),p(t),h(!0)})({restaurantId:t,restaurantName:m}),children:[(0,g.jsx)(_.G,{className:W.cart__clearIcon,icon:r.Vui,size:"lg"}),"clear"]})})]}),d?(0,g.jsxs)(g.Fragment,{children:[o.map((e=>{let{quantity:t,...a}=e;return(0,s.createElement)(O,{...a,handleAddProduct:e=>{return t=e,void I((0,i.gK)(t));var t},handleDeleteProduct:e=>((e,t)=>{I(t<1?(0,i.kh)(e):(0,i.gb)(e))})(e,t),handleInputCount:e=>(e=>{I((0,i.nQ)(e))})(e),handleRemoveProduct:e=>(e=>{I((0,i.kh)(e))})(e),key:a.id,quantity:t})})),(0,g.jsxs)("div",{className:n()(W.cart__orderInfo,W.cart__orderInfo_border),children:[(0,g.jsxs)("p",{className:W.cart__result,children:["Your order for the total amount"," ",(0,g.jsxs)("span",{className:W.cart__result_color,children:["$",l&&l.toFixed(2)]})," and"," ",(0,g.jsx)("span",{className:W.cart__result_color,children:d})," items"]}),(0,g.jsx)(f.s,{classNames:W.cart__orderBtn,handleClick:()=>((e,t)=>{const r=k[e];B?(a(t),p(e),T++,N(!0),I((0,u.qQ)({id:e,list:r,name:t,orderNumber:T}))):y("/login")})(t,m),name:"Place an order"})]})]}):null]},t)}))})]}),(0,g.jsx)(L,{handleCloseModal:()=>{I((0,i.LL)({restaurantId:c})),N(!1)},name:t,orderNumber:T,ref:v,show:x}),(0,g.jsx)(b,{handleClickClose:()=>{h(!1)},handleClickOk:()=>{I((0,i.LL)({restaurantId:c})),h(!1)},ref:j,show:m,children:(0,g.jsxs)(g.Fragment,{children:["Are you sure you want to empty the cart from ",(0,g.jsxs)("span",{className:W.popup__name,children:["\xab",t,"\xbb"]}),"?"]})})]}):(0,g.jsx)("div",{className:W.cart,children:(0,g.jsx)("div",{className:n()(W.cart__container,"container"),children:(0,g.jsx)("div",{className:W.cart__inner,children:(0,g.jsxs)("div",{className:W.cart__empty,children:[(0,g.jsx)("p",{className:W.cart__name,children:"Shopping cart is empty"}),(0,g.jsx)("p",{className:W.cart__message,children:"Use the search to find everything you need."}),(0,g.jsxs)("p",{className:W.cart__links,children:["Go to"," ",(0,g.jsx)(l.rU,{className:W.cart__linkItem,to:"/search",children:"search page"})," ","or"," ",(0,g.jsx)(l.rU,{className:W.cart__linkItem,to:"/",children:"menu"})]})]})})})})}},5543:(e,t,a)=>{a.d(t,{R:()=>s});var r=a(1694),_=a.n(r);const c={priceBlock__price:"priceBlock_priceBlock__price__FRHQY",priceBlock__price_theme:"priceBlock_priceBlock__price_theme__My3ay"};var n=a(184);const s=e=>{let{classNames:t,discount:a,price:r}=e;return(0,n.jsxs)("div",{className:c.priceBlock,children:[a?(0,n.jsxs)("div",{className:_()(c.priceBlock__price,t),children:["$ ",(r-r*a/100).toFixed(2)]}):null,(0,n.jsxs)("div",{className:_()(c.priceBlock__price,t,{[c.priceBlock__price_theme]:a}),children:["$",r.toFixed(2)]})]})}},4393:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(1694),_=a.n(r),c=a(2791);const n={buttons:"counter_buttons__OVEIu",buttons__input:"counter_buttons__input__LU3WF",button:"counter_button__TZDrT",disabledBtn:"counter_disabledBtn__k6ceu"};var s=a(184);const o=e=>{let{classNames:t,handleInputQuantity:a,handleMinusProduct:r,handlePlusProduct:o,quantity:l}=e;const[d,i]=(0,c.useState)(l);return(0,s.jsxs)("div",{className:_()(n.buttons,t),children:[(0,s.jsx)("button",{className:_()(n.button,n.buttons__plus,{[n.disabledBtn]:d>98}),disabled:d>98,onClick:()=>{o(),i(d+1)},children:"+"}),(0,s.jsx)("input",{className:_()(n.buttons__input),maxLength:2,onChange:e=>{const t=e.target.value.replace(/[^0-9]/gi,"");""!==t?(i(+t),a(+t)):i(0)},type:"text",value:d}),(0,s.jsx)("button",{className:_()(n.buttons__minus,n.button),onClick:()=>{r(),i(d-1)},children:"\u2013"})]})};o.defaultProps={quantity:0}},4032:(e,t,a)=>{a.d(t,{s:()=>m});var r=a(1694),_=a.n(r);const c="discount_label__8oW+1",n="discount_label__discount__xZACj",s="discount_label__discountPercent__ninge",o="discount_label__discountOff__nYZns",l="discount_smallLabel__ZzO-o",d="discount_smallLabel__discount__c4Cpa",i="discount_smallLabel__discountPercent__GdmW4",u="discount_smallLabel__discountOff__WMe9z";var p=a(184);const m=e=>{let{classNames:t,discount:a,view:r}=e;const m="smallLabel"===r;return(0,p.jsxs)("div",{className:_()(c,t,{[l]:m}),children:[(0,p.jsx)("div",{className:_()(n,{[d]:m}),children:a}),(0,p.jsx)("div",{className:_()(s,{[i]:m}),children:"%"}),(0,p.jsx)("div",{className:_()(o,{[u]:m}),children:"off"})]})}},8282:(e,t,a)=>{a.d(t,{s:()=>o});var r=a(1694),_=a.n(r),c=a(3080);const n={orderButton:"orderButton_orderButton__uKFSW"};var s=a(184);const o=e=>{let{classNames:t,handleClick:a,name:r}=e;return(0,s.jsxs)("button",{className:_()(n.orderButton,t),onClick:a,children:[r,(0,s.jsx)(c.Q,{className:n.orderButton__icon,src:"".concat("/foodwagon-online-shop","/images/cards-big/btn.svg"),wrapper:"span"})]})}}}]);
//# sourceMappingURL=829.21d6680b.chunk.js.map