"use strict";(self.webpackChunkfoodwagon_online_shop=self.webpackChunkfoodwagon_online_shop||[]).push([[789],{2735:(e,s,a)=>{a.d(s,{Z:()=>b});var r=a(4695),l=a(1694),o=a.n(l),i=a(2791),t=a(1134),n=a(1087),m=a(3080);const d="authRegForm_regForm__ivbJx",_="authRegForm_regForm__link__ErnFP",c="authRegForm_regForm__linkTo__rygF4",u="authRegForm_regForm__title__iM60G",g="authRegForm_regForm__input__adLiZ",h="authRegForm_regForm__label__nBYhm",p="authRegForm_regForm__button__ZTTEw",v="authRegForm_regForm__error__HN6UC",x="authRegForm_regForm__isValid__JPKo1",F="authRegForm_formWrapper__6yK20",f="authRegForm_regForm__hide__jD4Ne",w="authRegForm_regForm__btnHide__fB+t-",N="authRegForm_regForm__btnHideIcon__k3rN8";var j=a(184);const b=e=>{var s,a;let{errorMessage:l,handleClick:b,schema:R,title:E}=e;const{control:k,formState:{errors:y,isValid:I},handleSubmit:L,reset:S}=(0,t.cI)({defaultValues:{email:"",password:""},mode:"onBlur",resolver:(0,r.X)(R)}),[Z,A]=(0,i.useState)(!1),C=(0,i.useRef)(null);return(0,j.jsx)("div",{className:F,children:(0,j.jsxs)("form",{className:d,onSubmit:L((e=>{let{email:s,password:a}=e;b(s,a),S()})),children:[(0,j.jsx)("p",{className:u,children:E}),(0,j.jsxs)("p",{className:_,children:["Or"," ",(0,j.jsx)(n.rU,{className:c,to:"Log in"===E?"/register":"/login",children:"Log in"===E?"Sign up":"Log in"})]}),(0,j.jsxs)("label",{className:h,htmlFor:"email",children:["Email address"," "]}),(0,j.jsx)(t.Qr,{render:e=>{let{field:s}=e;return(0,j.jsx)("input",{className:g,id:"email",type:"email",...s,"aria-invalid":y.email?"true":"false",autoComplete:"email"})},control:k,name:"email"}),(0,j.jsxs)("div",{className:v,role:"alert",children:[null===(s=y.email)||void 0===s?void 0:s.message," "]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("label",{className:h,htmlFor:"password",children:"Password"}),(0,j.jsxs)("button",{className:w,onClick:e=>{e.preventDefault(),A(!Z)},children:[Z?(0,j.jsx)(m.Q,{className:N,src:"".concat("/foodwagon-online-shop","/images/login/hide.svg"),wrapper:"span"}):(0,j.jsx)(m.Q,{className:N,src:"".concat("/foodwagon-online-shop","/images/login/see.svg"),wrapper:"span"}),Z?"Hide":"Visible"]})]}),(0,j.jsx)(t.Qr,{render:e=>{let{field:s}=e;return(0,j.jsx)("input",{autoComplete:"current-password",className:g,id:"password",type:Z?"password":"text",...s,"aria-invalid":y.password?"true":"false",ref:C})},control:k,name:"password"}),(0,j.jsx)("div",{className:v,role:"alert",children:null===(a=y.password)||void 0===a?void 0:a.message}),(0,j.jsx)("input",{className:o()(p,{[x]:I}),disabled:!I,type:"submit",value:E}),(0,j.jsx)("div",{className:v,role:"alert",children:l&&l})]})})}},7325:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var r=a(3988),l=a(2791),o=a(7689),i=a(3232),t=a(5382);let n=function(e){return e.EMAIL_ALREADY_EXISTS="auth/email-already-exists",e.INVALID_CREDENTIAL="auth/invalid-credential",e}({});var m=a(1745),d=a(8795),_=a(2735);const c="loginPage_login__tOXs5";var u=a(184);const g=()=>{const e=(0,r.v0)(),{pathname:s}=(0,o.TH)(),a=(0,i.TL)(),g=(0,o.s0)(),[h,p]=(0,l.useState)("");return(0,l.useEffect)((()=>{window.scrollTo(0,0)}),[s]),(0,u.jsx)("div",{className:c,children:(0,u.jsx)(l.Suspense,{fallback:(0,u.jsx)(d.Z,{}),children:(0,u.jsx)(_.Z,{errorMessage:h,handleClick:(s,l)=>{(0,r.e5)(e,s,l).then((e=>{let{user:s}=e;return a((0,t.av)({email:s.email,id:s.uid})),g("/"),s.getIdTokenResult()})).then((e=>{let{token:s}=e;a((0,t.o4)(s))})).catch((e=>{let{code:s,message:a}=e;if(s===n.INVALID_CREDENTIAL)p("Invalid login details");else p(a)}))},schema:m.d,title:"Log in"})})})}},1745:(e,s,a)=>{a.d(s,{d:()=>i,i:()=>o});var r=a(8007),l=a(7113);const o=r.Ry({email:r.Z_().matches(l.B,{excludeEmptyString:!0,message:"email must be in a valid format"}).required(),password:r.Z_().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^\w\s])/g,{excludeEmptyString:!0,message:"password should consist of letters, numbers, and symbols"}).required().min(8)}).required(),i=r.Ry({email:r.Z_().matches(l.B,{excludeEmptyString:!0,message:"email must be in a valid format"}).required(),password:r.Z_().required()}).required()},7113:(e,s,a)=>{a.d(s,{B:()=>r});const r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}}]);
//# sourceMappingURL=LoginPage.3393350a.chunk.js.map