{"version":3,"file":"static/js/SignUpPage.469e3c79.chunk.js","mappings":"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","sources":["webpack://foodwagon-online-shop/./src/components/pages/LoginPage/authRegForm.module.scss?23ee","components/pages/LoginPage/AuthRegForm.tsx","webpack://foodwagon-online-shop/./src/components/pages/SignUpPage/signUpPage.module.scss?9279","components/pages/SignUpPage/SignUpPage.tsx","utils/regExpPassword.ts","utils/fieldValidationSchemes.ts","utils/regExpEmail.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"regForm\":\"authRegForm_regForm__ivbJx\",\"regForm__link\":\"authRegForm_regForm__link__ErnFP\",\"regForm__linkTo\":\"authRegForm_regForm__linkTo__rygF4\",\"regForm__title\":\"authRegForm_regForm__title__iM60G\",\"regForm__input\":\"authRegForm_regForm__input__adLiZ\",\"regForm__label\":\"authRegForm_regForm__label__nBYhm\",\"regForm__button\":\"authRegForm_regForm__button__ZTTEw\",\"regForm__error\":\"authRegForm_regForm__error__HN6UC\",\"regForm__isValid\":\"authRegForm_regForm__isValid__JPKo1\",\"formWrapper\":\"authRegForm_formWrapper__6yK20\",\"regForm__hide\":\"authRegForm_regForm__hide__jD4Ne\",\"regForm__btnHide\":\"authRegForm_regForm__btnHide__fB+t-\",\"regForm__btnHideIcon\":\"authRegForm_regForm__btnHideIcon__k3rN8\"};","import { yupResolver } from '@hookform/resolvers/yup';\r\nimport cn from 'classnames';\r\nimport { FC, MouseEvent, useRef, useState } from 'react';\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactSVG } from 'react-svg';\r\nimport * as yup from 'yup';\r\n\r\nimport style from './authRegForm.module.scss';\r\n\r\ntype Data = {\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\ntype AuthRegFormProps = {\r\n  errorMessage: string;\r\n  handleClick: (email: string, password: string) => void;\r\n  schema: yup.ObjectSchema<Data>;\r\n  title: string;\r\n};\r\n\r\nconst AuthRegForm: FC<AuthRegFormProps> = ({ errorMessage, handleClick, schema, title }) => {\r\n  const {\r\n    control,\r\n    formState: { errors, isValid },\r\n    handleSubmit,\r\n    reset,\r\n  } = useForm({\r\n    defaultValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    mode: 'onBlur',\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const [isHidden, setIsHidden] = useState(false);\r\n\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const onSubmit = ({ email, password }: Data) => {\r\n    handleClick(email, password);\r\n    reset();\r\n  };\r\n\r\n  const handlePasswordVisibility = (event: MouseEvent<HTMLButtonElement>) => {\r\n    event.preventDefault();\r\n    setIsHidden(!isHidden);\r\n  };\r\n\r\n  return (\r\n    <div className={style.formWrapper}>\r\n      <form className={style.regForm} onSubmit={handleSubmit(onSubmit)}>\r\n        <p className={style.regForm__title}>{title}</p>\r\n\r\n        <p className={style.regForm__link}>\r\n          Or{' '}\r\n          <Link className={style.regForm__linkTo} to={title === 'Log in' ? '/register' : '/login'}>\r\n            {title === 'Log in' ? 'Sign up' : 'Log in'}\r\n          </Link>\r\n        </p>\r\n\r\n        <label className={style.regForm__label} htmlFor=\"email\">\r\n          Email address{' '}\r\n        </label>\r\n\r\n        <Controller\r\n          render={({ field }) => (\r\n            <input\r\n              className={style.regForm__input}\r\n              id=\"email\"\r\n              type=\"email\"\r\n              {...field}\r\n              aria-invalid={errors.email ? 'true' : 'false'}\r\n              autoComplete=\"email\"\r\n            />\r\n          )}\r\n          control={control}\r\n          name=\"email\"\r\n        />\r\n\r\n        <div className={style.regForm__error} role=\"alert\">\r\n          {errors.email?.message}{' '}\r\n        </div>\r\n\r\n        <div className={style.regForm__hide}>\r\n          <label className={style.regForm__label} htmlFor=\"password\">\r\n            Password\r\n          </label>\r\n\r\n          <button className={style.regForm__btnHide} onClick={handlePasswordVisibility}>\r\n            {isHidden ? (\r\n              <ReactSVG\r\n                className={style.regForm__btnHideIcon}\r\n                src={`${process.env.PUBLIC_URL}/images/login/hide.svg`}\r\n                wrapper=\"span\"\r\n              />\r\n            ) : (\r\n              <ReactSVG\r\n                className={style.regForm__btnHideIcon}\r\n                src={`${process.env.PUBLIC_URL}/images/login/see.svg`}\r\n                wrapper=\"span\"\r\n              />\r\n            )}\r\n            {isHidden ? 'Hide' : 'Visible'}\r\n          </button>\r\n        </div>\r\n\r\n        <Controller\r\n          render={({ field }) => {\r\n            return (\r\n              <input\r\n                autoComplete=\"current-password\"\r\n                className={style.regForm__input}\r\n                id=\"password\"\r\n                type={isHidden ? 'password' : 'text'}\r\n                {...field}\r\n                aria-invalid={errors.password ? 'true' : 'false'}\r\n                ref={inputRef}\r\n              />\r\n            );\r\n          }}\r\n          control={control}\r\n          name=\"password\"\r\n        />\r\n\r\n        <div className={style.regForm__error} role=\"alert\">\r\n          {errors.password?.message}\r\n        </div>\r\n\r\n        <input\r\n          className={cn(style.regForm__button, {\r\n            [style.regForm__isValid]: isValid,\r\n          })}\r\n          disabled={!isValid}\r\n          type=\"submit\"\r\n          value={title}\r\n        />\r\n\r\n        <div className={style.regForm__error} role=\"alert\">\r\n          {errorMessage && errorMessage}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default AuthRegForm;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"login\":\"signUpPage_login__zyOwQ\"};","import { createUserWithEmailAndPassword, getAuth } from 'firebase/auth';\r\nimport { FC, Suspense, useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\n\r\nimport { useAppDispatch } from '../../../store';\r\nimport { setUser } from '../../../store/slices/user/slice';\r\nimport { signupSchema } from '../../../utils/fieldValidationSchemes';\r\nimport Spinner from '../../ui/Spinner/Spinner';\r\nimport AuthRegForm from '../LoginPage/AuthRegForm';\r\nimport style from './signUpPage.module.scss';\r\n\r\nexport const SignUp: FC = () => {\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const auth = getAuth();\r\n  const { pathname } = useLocation();\r\n\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const handleRegister = (email: string, password: string) => {\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n      .then(({ user }) => {\r\n        dispatch(\r\n          setUser({\r\n            email: user.email,\r\n            id: user.uid,\r\n          }),\r\n        );\r\n        navigate('/');\r\n      })\r\n      .catch(({ code, message }) => {\r\n        switch (code) {\r\n          case 'auth/email-already-in-use':\r\n            setErrorMessage('This email address is already in use by another account.');\r\n            break;\r\n\r\n          default:\r\n            setErrorMessage(message);\r\n            break;\r\n        }\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return (\r\n    <div className={style.login}>\r\n      <Suspense fallback={<Spinner />}>\r\n        <AuthRegForm errorMessage={errorMessage} handleClick={handleRegister} schema={signupSchema} title={'Sign Up'} />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n};\r\n","export const regExpPassword:RegExp = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^\\w\\s])/g;\r\n","import * as yup from 'yup';\r\n\r\nimport { regExpEmail } from './regExpEmail';\r\nimport { regExpPassword } from './regExpPassword';\r\n\r\nexport const signupSchema = yup\r\n  .object({\r\n    email: yup\r\n      .string()\r\n      .matches(regExpEmail, {\r\n        excludeEmptyString: true,\r\n        message: 'email must be in a valid format',\r\n      })\r\n      .required(),\r\n    password: yup\r\n      .string()\r\n      .matches(regExpPassword, {\r\n        excludeEmptyString: true,\r\n        message: 'password should consist of letters, numbers, and symbols',\r\n      })\r\n      .required()\r\n      .min(8),\r\n  })\r\n  .required();\r\n\r\nexport const loginSchema = yup\r\n  .object({\r\n    email: yup\r\n      .string()\r\n      .matches(regExpEmail, {\r\n        excludeEmptyString: true,\r\n        message: 'email must be in a valid format',\r\n      })\r\n      .required(),\r\n    password: yup.string().required(),\r\n  })\r\n  .required();\r\n","/* eslint-disable max-len */\r\nexport const regExpEmail: RegExp =\r\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n"],"names":["_ref","_errors$email","_errors$password","errorMessage","handleClick","schema","title","control","formState","errors","isValid","handleSubmit","reset","useForm","defaultValues","email","password","mode","resolver","yupResolver","isHidden","setIsHidden","useState","inputRef","useRef","_jsx","className","style","children","_jsxs","onSubmit","_ref2","Link","to","htmlFor","Controller","render","_ref3","field","id","type","autoComplete","name","role","message","onClick","event","preventDefault","ReactSVG","src","concat","process","wrapper","_ref4","ref","cn","disabled","value","SignUp","setErrorMessage","auth","getAuth","pathname","useLocation","dispatch","useAppDispatch","navigate","useNavigate","useEffect","window","scrollTo","Suspense","fallback","Spinner","AuthRegForm","handleRegister","createUserWithEmailAndPassword","then","user","setUser","uid","catch","code","signupSchema","yup","matches","regExpEmail","excludeEmptyString","required","min","loginSchema"],"sourceRoot":""}