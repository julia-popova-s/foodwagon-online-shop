"use strict";(self.webpackChunkfoodwagon_project=self.webpackChunkfoodwagon_project||[]).push([[241],{8241:function(t,r,e){e.r(r),e.d(r,{default:function(){return T}});var n=e(1413),a=e(5987),c=e(9439),_=e(1632),o=e(9806),s=e(1694),i=e.n(s),d=e(2791),u=e(9434),l=e(7689),p=e(1087),m=function(t){(0,d.useEffect)((function(){t?(document.body.style.overflow="hidden",document.body.style.paddingRight="15px"):(document.body.style.overflow="unset",document.body.style.paddingRight="0")}),[t])},h=e(6721),f=e(89),x=e(549),v="popup_popup__ih4BR",j="popup_popup__title__x4TCg",N="popup_popup__name__3WeIx",b="popup_popup__btns__Fw43h",g="popup_popup__btnOk__rlN5q",k="popup_popup__btnClose__bnhYs",P="popup_popupWrapper__Dhdqd",y=e(184),I=(0,d.forwardRef)((function(t,r){var e=t.handleClearOrder,n=t.handleClosePopup,a=t.name,c=t.show;return(0,y.jsx)(x.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,y.jsx)("div",{className:P,ref:r,children:(0,y.jsxs)("div",{className:v,children:[(0,y.jsxs)("div",{className:j,children:["Are you sure you want to empty the cart from"," ",(0,y.jsxs)("span",{className:N,children:["\xab",a,"\xbb"]}),"?"]}),(0,y.jsxs)("div",{className:b,children:[(0,y.jsx)("button",{className:g,onClick:e,children:"Ok"}),(0,y.jsx)("button",{className:k,onClick:n,children:"Close"})]})]})})})})),B=e(630),w=e(4419),O=e(7408),C={product:"cardProduct_product__-5dQe",product__image:"cardProduct_product__image__HN2UA",product__img:"cardProduct_product__img__F5Txk",product__btnReturn:"cardProduct_product__btnReturn__WOKzb",product__btnDelete:"cardProduct_product__btnDelete__7FZwW",info:"cardProduct_info__D9Tz8",info__title:"cardProduct_info__title__lOpgQ",info__titleLink:"cardProduct_info__titleLink__l2Iul",info__name:"cardProduct_info__name__9phVS",info__nameIcon:"cardProduct_info__nameIcon__Ih0wC",info__nameLink:"cardProduct_info__nameLink__7QjmB",info__price:"cardProduct_info__price__sNQc3",info__price_theme:"cardProduct_info__price_theme__pT-cN",counter:"cardProduct_counter__Vj-iL",counter__btns:"cardProduct_counter__btns__95ei8",counter__price:"cardProduct_counter__price__IayDF",loadingBar:"cardProduct_loadingBar__xJgFp",loadingBar__inner:"cardProduct_loadingBar__inner__xXaBa",loading:"cardProduct_loading__Bt7j6",loadingBar__shadow:"cardProduct_loadingBar__shadow__mQkiy",btnReturn:"cardProduct_btnReturn__Vye4H",returnedBlock:"cardProduct_returnedBlock__UAjuQ",product__counterWithPrice:"cardProduct_product__counterWithPrice__meXhl",product__info:"cardProduct_product__info__yazs4"};function L(t){var r=t.amount,e=t.discount,n=t.handleAddProduct,a=t.handleDeleteProduct,s=t.handleInputCount,u=t.handleRemoveProduct,l=t.id,m=t.image,h=t.price,f=t.quantity,x=t.restaurantId,v=t.restaurantName,j=t.title,N=(0,d.useState)(!1),b=(0,c.Z)(N,2),g=b[0],k=b[1],P={discount:e,id:l,image:m,price:h,restaurantId:x,restaurantName:v,title:j};return(0,d.useEffect)((function(){if(g){var t=setTimeout((function(){u({id:l,restaurantId:x})}),2e3);return function(){return clearTimeout(t)}}}),[g]),(0,y.jsxs)("div",{className:C.product,children:[(0,y.jsx)("div",{className:C.product__image,children:(0,y.jsxs)(p.rU,{className:C.product__imageLink,to:"/restaurant/".concat(x,"/product/").concat(l),children:[(0,y.jsx)("img",{alt:j,className:C.product__img,src:"/foodwagon_project"+m}),e>0&&(0,y.jsx)(w.s,{classNames:C.product__discount,discount:e,view:"smallLabel"})]})}),g?(0,y.jsxs)("div",{className:C.returnedBlock,children:[(0,y.jsx)("button",{className:i()(C.btnReturn,C.product__btnReturn),onClick:function(){return k(!1)},children:"Restore to cart"}),(0,y.jsx)("div",{className:i()(C.loadingBar,C.product__loadingBar),children:(0,y.jsx)("div",{className:C.loadingBar__inner,children:(0,y.jsx)("div",{className:C.loadingBar__shadow})})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:i()(C.product__info,C.info),children:[(0,y.jsx)("p",{className:C.info__title,children:(0,y.jsx)(p.rU,{className:C.info__titleLink,to:"/restaurant/".concat(x,"/product/").concat(l),children:j})}),(0,y.jsxs)("p",{className:C.info__name,children:[(0,y.jsx)(o.G,{className:C.info__nameIcon,icon:_.opg}),(0,y.jsx)(p.rU,{className:C.info__nameLink,to:"/restaurant/".concat(x,"/product/").concat(l),children:v})]}),(0,y.jsx)(O.R,{discount:e,price:h})]}),(0,y.jsxs)("div",{className:i()(C.product__counter,C.counter),children:[(0,y.jsx)(B.A,{classNames:C.counter__btns,handleInputQuantity:function(t){t?s({id:l,price:h,quantity:t,restaurantId:x}):k(!0)},handleMinusProduct:function(){return a({id:l,restaurantId:x})},handlePlusProduct:function(){return n(P)},quantity:f}),(0,y.jsxs)("div",{className:C.counter__price,children:["$ ",r&&r.toFixed(2)]})," ",(0,y.jsx)("button",{className:i()(C.product__btnDelete,C.btnDelete),onClick:function(){return k(!0)},children:"x"})]})]})]})}var Z="modal_popup__r5AKS",R="modal_popup__title__hbJ3m",S="modal_popup__name__AHVA6",F="modal_popup__btns__RRhGW",U="modal_popup__btnClose__qbs-d",A="modal_popupWrapper__hkAZP",Q=(0,d.forwardRef)((function(t,r){var e=t.handleCloseModal,n=t.idOrder,a=t.name,c=t.show;return(0,y.jsx)(x.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,y.jsx)("div",{className:A,ref:r,children:(0,y.jsxs)("div",{className:Z,children:[(0,y.jsx)("div",{className:R,children:(0,y.jsxs)("span",{className:S,children:["Order \u2116",n," from \xab",a,"\xbb restaurant is completed!"]})}),(0,y.jsx)("div",{className:F,children:(0,y.jsx)("button",{className:U,onClick:e,children:"Close"})})]})})})})),q={cart:"cart_cart__LpzNQ",cart__inner:"cart_cart__inner__mi1OW",cart__top:"cart_cart__top__zx13I",cart__list:"cart_cart__list__pbn-t",cart__name:"cart_cart__name__9I2Jm",cart__empty:"cart_cart__empty__kPz+l",cart__result:"cart_cart__result__PSxoO",cart__result_color:"cart_cart__result_color__yThMJ",cart__image:"cart_cart__image__uODBU",cart__clear:"cart_cart__clear__GlKXI",cart__clearIcon:"cart_cart__clearIcon__Onlf3",cart__clearBtn:"cart_cart__clearBtn__M9d3A",cart__btnOrder:"cart_cart__btnOrder__QyT6E",cart__orderInfo:"cart_cart__orderInfo__JGIU0",cart__restaurantName:"cart_cart__restaurantName__uVmPv",cart__linkSearch:"cart_cart__linkSearch__OUM22",cart__restaurantLink:"cart_cart__restaurantLink__W41zw"},D=["quantity"],E=0;var T=function(){var t=(0,l.TH)().pathname,r=(0,d.useState)(""),e=(0,c.Z)(r,2),s=e[0],x=e[1],v=(0,d.useState)(""),j=(0,c.Z)(v,2),N=(j[0],j[1],(0,d.useState)("")),b=(0,c.Z)(N,2),g=b[0],k=b[1],P=(0,d.useState)(!1),B=(0,c.Z)(P,2),w=B[0],O=B[1],C=(0,d.useState)(!1),Z=(0,c.Z)(C,2),R=Z[0],S=Z[1],F=(0,d.useRef)(null),U=(0,d.useRef)(null),A=(0,u.v9)(h.fU),T=(0,u.v9)(h.iq),W=(0,u.v9)(h.co),z=(0,u.I0)();return m(w),m(R),(0,d.useEffect)((function(){window.scrollTo(0,0)}),[t]),(0,d.useEffect)((function(){var t=function(t){var r;null!==(r=F.current)&&void 0!==r&&r.contains(t.target)&&O(!1)};return document.body.addEventListener("click",t),function(){return document.body.removeEventListener("click",t)}}),[]),W?(0,y.jsxs)("div",{className:q.cart,children:[(0,y.jsx)("div",{className:i()(q.cart__container,"container"),children:(0,y.jsx)("div",{className:q.cart__inner,children:W&&A.map((function(t){var r=(0,c.Z)(t,2),e=r[0],s=r[1],u=Object.values(s.items),l=s.totalAmount,m=s.totalCount,v=u[0]&&u[0].restaurantName;return(0,y.jsxs)("div",{className:i()(q.cart__order,q.cart__order_border),children:[(0,y.jsxs)("div",{className:q.cart__top,children:[(0,y.jsx)("div",{className:q.cart__restaurantName,children:(0,y.jsx)(p.rU,{className:q.cart__restaurantLink,children:v})}),(0,y.jsx)("div",{className:q.cart__clear,children:(0,y.jsxs)("button",{className:q.cart__clearBtn,onClick:function(){return function(t){var r=t.restaurantId,e=t.restaurantName;x(e),k(r),O(!0)}({restaurantId:e,restaurantName:v})},children:[(0,y.jsx)(o.G,{className:q.cart__clearIcon,icon:_.Vui,size:"lg"}),"clear"]})})]}),(0,y.jsx)("div",{className:q.cart__list,children:m?(0,y.jsxs)(y.Fragment,{children:[u.map((function(t){var r=t.quantity,e=(0,a.Z)(t,D);return(0,d.createElement)(L,(0,n.Z)((0,n.Z)({},e),{},{handleAddProduct:function(t){return r=t,void z((0,h.gK)(r));var r},handleDeleteProduct:function(t){return function(t,r){var e=t.id,n=t.restaurantId;z(r<1?(0,h.kh)({id:e,restaurantId:n}):(0,h.gb)({id:e,restaurantId:n}))}(t,r)},handleInputCount:function(t){return function(t){z((0,h.nQ)(t))}(t)},handleRemoveProduct:function(t){return function(t){var r=t.id,e=t.restaurantId;z((0,h.kh)({id:r,restaurantId:e}))}(t)},key:e.id,quantity:r}))})),(0,y.jsxs)("div",{className:i()(q.cart__orderInfo,q.cart__orderInfo_border),children:[(0,y.jsxs)("p",{className:q.cart__result,children:["Your order for the total amount $"," ",(0,y.jsx)("span",{className:q.cart__result_color,children:l&&l.toFixed(2)})," and"," ",(0,y.jsx)("span",{className:q.cart__result_color,children:m})," items"]}),(0,y.jsx)(f.k,{name:"Place an order",onClick:function(){return function(t,r){x(r),k(t),E++,console.log("".concat(r,". Order \u2116 ").concat(E,":"),T[t]),S(!0)}(e,v)}})]})]}):null})]},e)}))})}),(0,y.jsx)(Q,{handleCloseModal:function(){z((0,h.LL)({restaurantId:g})),S(!1)},idOrder:E,name:s,ref:U,show:R}),(0,y.jsx)(I,{handleClearOrder:function(){z((0,h.LL)({restaurantId:g})),O(!1)},handleClosePopup:function(){O(!1)},name:s,ref:F,show:w})]}):(0,y.jsx)("div",{className:q.cart,children:(0,y.jsx)("div",{className:i()(q.cart__container,"container"),children:(0,y.jsx)("div",{className:q.cart__inner,children:(0,y.jsxs)("div",{className:q.cart__empty,children:[(0,y.jsx)("p",{className:q.cart__name,children:"Shopping cart is empty"})," ",(0,y.jsx)("p",{className:q.cart__result,children:"Use the search to find everything you need."}),(0,y.jsx)(p.rU,{className:q.cart__linkSearch,to:"/search",children:"Go to search page"})]})})})})}},7408:function(t,r,e){e.d(r,{R:function(){return s}});var n=e(4942),a=e(1694),c=e.n(a),_={priceBlock__price:"priceBlock_priceBlock__price__6768u",priceBlock__price_theme:"priceBlock_priceBlock__price_theme__FUdv1"},o=e(184);function s(t){var r=t.discount,e=t.price;return(0,o.jsxs)("div",{className:_.priceBlock,children:[r?(0,o.jsxs)("div",{className:_.priceBlock__price,children:["$ ",(e-e*r/100).toFixed(2)]}):null,(0,o.jsxs)("div",{className:c()(_.priceBlock__price,(0,n.Z)({},_.priceBlock__price_theme,r)),children:["$",e.toFixed(2)]})]})}},89:function(t,r,e){e.d(r,{k:function(){return i}});var n=e(1694),a=e.n(n),c=e(3080),_="buttonOrder_buttonOrder__8w1Q-",o="buttonOrder_buttonOrder__icon__9eFM1",s=e(184);function i(t){var r=t.classNames,e=t.name,n=t.onClick;return(0,s.jsxs)("button",{className:a()(_,r),onClick:n,children:[e,(0,s.jsx)(c.Q,{className:o,src:"".concat("/foodwagon_project","/images/cards-big/btn.svg"),wrapper:"span"})]})}},630:function(t,r,e){e.d(r,{A:function(){return d}});var n=e(4942),a=e(9439),c=e(1694),_=e.n(c),o=e(2791),s={buttons:"counter_buttons__MwR8a",buttons__input:"counter_buttons__input__cPDJv",button:"counter_button__F1VDI",disabledBtn:"counter_disabledBtn__mVuPx"},i=e(184);function d(t){var r=t.classNames,e=t.handleInputQuantity,c=t.handleMinusProduct,d=t.handlePlusProduct,u=t.quantity,l=(0,o.useState)(u),p=(0,a.Z)(l,2),m=p[0],h=p[1];return(0,i.jsxs)("div",{className:_()(s.buttons,r),children:[(0,i.jsx)("button",{className:_()(s.button,s.buttons__plus,(0,n.Z)({},s.disabledBtn,m>98)),disabled:m>98,onClick:function(){d(),h(m+1)},children:"+"}),(0,i.jsx)("input",{className:_()(s.buttons__input),maxLength:"2",onChange:function(t){var r=t.target.value.replace(/[^0-9]/gi,"");""!==r?(h(+r),e(+r)):h("")},type:"text",value:m}),(0,i.jsx)("button",{className:_()(s.buttons__minus,s.button),onClick:function(){c(),h(m-1)},children:"\u2013"})]})}d.defaultProps={quantity:0}},4419:function(t,r,e){e.d(r,{s:function(){return h}});var n=e(4942),a=e(1694),c=e.n(a),_="discount_label__jB0h4",o="discount_label__discount__NdxTg",s="discount_label__discountPercent__0Xzk2",i="discount_label__discountOff__0eCdn",d="discount_smallLabel__JhXcr",u="discount_smallLabel__discount__lvwUU",l="discount_smallLabel__discountPercent__vbNrZ",p="discount_smallLabel__discountOff__cFEvX",m=e(184);function h(t){var r=t.classNames,e=t.discount,a="smallLabel"===t.view;return(0,m.jsxs)("div",{className:c()(_,r,(0,n.Z)({},d,a)),children:[(0,m.jsx)("div",{className:c()(o,(0,n.Z)({},u,a)),children:e}),(0,m.jsx)("div",{className:c()(s,(0,n.Z)({},l,a)),children:"%"}),(0,m.jsx)("div",{className:c()(i,(0,n.Z)({},p,a)),children:"off"})]})}},5987:function(t,r,e){e.d(r,{Z:function(){return a}});var n=e(3366);function a(t,r){if(null==t)return{};var e,a,c=(0,n.Z)(t,r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(t);for(a=0;a<_.length;a++)e=_[a],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(c[e]=t[e])}return c}}}]);
//# sourceMappingURL=241.a6335ee6.chunk.js.map