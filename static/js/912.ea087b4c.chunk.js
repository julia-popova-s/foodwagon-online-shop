"use strict";(self.webpackChunkfoodwagon_project=self.webpackChunkfoodwagon_project||[]).push([[912],{8912:function(r,t,e){e.r(t),e.d(t,{default:function(){return Q}});var n=e(1413),a=e(5987),c=e(9439),_=e(1632),s=e(9806),o=e(1694),i=e.n(o),u=e(2791),d=e(9434),l=e(7689),p=e(1087),m=e(6721),h=e(4346),f=e(549),v="popup_popup__ih4BR",j="popup_popup__title__x4TCg",x="popup_popup__name__3WeIx",N="popup_popup__btns__Fw43h",b="popup_popup__btnOk__rlN5q",g="popup_popup__btnClose__bnhYs",P="popup_popupWrapper__Dhdqd",k=e(184),I=(0,u.forwardRef)((function(r,t){var e=r.handleClearOrder,n=r.handleClosePopup,a=r.name,c=r.show;return(0,k.jsx)(f.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,k.jsx)("div",{className:P,ref:t,children:(0,k.jsxs)("div",{className:v,children:[(0,k.jsxs)("div",{className:j,children:["Are you sure you want to empty the cart from ",(0,k.jsxs)("span",{className:x,children:["\xab",a,"\xbb"]}),"?"]}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("button",{className:b,onClick:e,children:"Ok"}),(0,k.jsx)("button",{className:g,onClick:n,children:"Close"})]})]})})})})),y=e(9831),B=e(630),C=e(4419),w=e(3782),O={product:"cardProduct_product__SJi7l",product__image:"cardProduct_product__image__ThUnz",product__img:"cardProduct_product__img__ehQ1I",product__btnReturn:"cardProduct_product__btnReturn__Hm301",product__btnDelete:"cardProduct_product__btnDelete__kybGw",info:"cardProduct_info__u5hsB",info__title:"cardProduct_info__title__ysSyy",info__titleLink:"cardProduct_info__titleLink__uUn+A",info__name:"cardProduct_info__name__Fn32N",info__nameIcon:"cardProduct_info__nameIcon__94srq",info__nameLink:"cardProduct_info__nameLink__ALZyc",info__price:"cardProduct_info__price__Dxnf-",info__price_theme:"cardProduct_info__price_theme__0dj9R",counter:"cardProduct_counter__UHr1I",counter__btns:"cardProduct_counter__btns__Qgpk0",counter__price:"cardProduct_counter__price__47qTB",loadingBar:"cardProduct_loadingBar__kqluD",loadingBar__inner:"cardProduct_loadingBar__inner__YzXAb",loading:"cardProduct_loading__DyW+Y",loadingBar__shadow:"cardProduct_loadingBar__shadow__zAJNg",btnReturn:"cardProduct_btnReturn__ozn8+",returnedBlock:"cardProduct_returnedBlock__+IejE",product__counterWithPrice:"cardProduct_product__counterWithPrice__CzWiO",product__info:"cardProduct_product__info__swjXc"};function L(r){var t=r.amount,e=r.discount,n=r.handleAddProduct,a=r.handleDeleteProduct,o=r.handleInputCount,d=r.handleRemoveProduct,l=r.id,m=r.image,h=r.price,f=r.quantity,v=r.restaurantId,j=r.restaurantName,x=r.title,N=(0,u.useState)(!1),b=(0,c.Z)(N,2),g=b[0],P=b[1],I={discount:e,id:l,image:m,price:h,restaurantId:v,restaurantName:j,title:x};return(0,u.useEffect)((function(){if(g){var r=setTimeout((function(){d({id:l,restaurantId:v})}),2e3);return function(){return clearTimeout(r)}}}),[g]),(0,k.jsxs)("div",{className:O.product,children:[(0,k.jsx)("div",{className:O.product__image,children:(0,k.jsxs)(p.rU,{className:O.product__imageLink,to:"/restaurant/".concat(v,"/product/").concat(l),children:[(0,k.jsx)("img",{alt:x,className:O.product__img,src:"/foodwagon_project"+m}),e>0&&(0,k.jsx)(C.s,{classNames:O.product__discount,discount:e,view:"smallLabel"})]})}),g?(0,k.jsxs)("div",{className:O.returnedBlock,children:[(0,k.jsx)("button",{className:i()(O.btnReturn,O.product__btnReturn),onClick:function(){return P(!1)},children:"Restore to cart"}),(0,k.jsx)("div",{className:i()(O.loadingBar,O.product__loadingBar),children:(0,k.jsx)("div",{className:O.loadingBar__inner,children:(0,k.jsx)("div",{className:O.loadingBar__shadow})})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:i()(O.product__info,O.info),children:[(0,k.jsx)("p",{className:O.info__title,children:(0,k.jsx)(p.rU,{className:O.info__titleLink,to:"/restaurant/".concat(v,"/product/").concat(l),children:x})}),(0,k.jsxs)("p",{className:O.info__name,children:[(0,k.jsx)(s.G,{className:O.info__nameIcon,icon:_.opg}),(0,k.jsx)(p.rU,{className:O.info__nameLink,to:"/restaurant/".concat(v,"/product/").concat(l),children:j})]}),(0,k.jsx)(w.R,{discount:e,price:h})]}),(0,k.jsxs)("div",{className:i()(O.product__counter,O.counter),children:[(0,k.jsx)(B.A,{classNames:O.counter__btns,handleInputQuantity:function(r){r?o({id:l,price:h,quantity:r,restaurantId:v}):P(!0)},handleMinusProduct:function(){return a({id:l,restaurantId:v})},handlePlusProduct:function(){return n(I)},quantity:f}),(0,k.jsxs)("div",{className:O.counter__price,children:["$ ",t&&t.toFixed(2)]}),(0,k.jsx)("button",{className:i()(O.product__btnDelete,O.btnDelete),onClick:function(){return P(!0)},children:"x"})]})]})]})}var Z="modal_popup__Iw8Rl",q="modal_popup__title__u-LTO",R="modal_popup__name__FGha9",S="modal_popup__btns__p2JrJ",A="modal_popup__btnClose__Yqwd5",D="modal_popupWrapper__Lac4P",E=(0,u.forwardRef)((function(r,t){var e=r.handleCloseModal,n=r.name,a=r.orderNumber,c=r.show,_=(0,d.v9)(h.Cn);return(0,k.jsx)(f.Z,{classNames:"alert",in:c,timeout:300,unmountOnExit:!0,children:(0,k.jsx)("div",{className:D,ref:t,children:(0,k.jsxs)("div",{className:Z,children:[(0,k.jsx)("div",{className:q,children:(0,k.jsxs)("span",{className:R,children:["Order \u2116",a," from restaurant \xab",n,"\xbb was created, user: ",_]})}),(0,k.jsx)("div",{className:S,children:(0,k.jsx)("button",{className:A,onClick:e,children:"Close"})})]})})})})),F={cart:"cartPage_cart__kbPrS",cart__inner:"cartPage_cart__inner__VzE2p",cart__top:"cartPage_cart__top__Kqefj",cart__list:"cartPage_cart__list__cyCTb",cart__name:"cartPage_cart__name__V1i1J",cart__empty:"cartPage_cart__empty__-+AWz",cart__result:"cartPage_cart__result__Ag0V6",cart__result_color:"cartPage_cart__result_color__QOdNX",cart__image:"cartPage_cart__image__a+qBW",cart__clear:"cartPage_cart__clear__nnQvq",cart__clearIcon:"cartPage_cart__clearIcon__e+fev",cart__clearBtn:"cartPage_cart__clearBtn__j3-N9",cart__btnOrder:"cartPage_cart__btnOrder__hprFm",cart__orderInfo:"cartPage_cart__orderInfo__dHI1g",cart__restaurantName:"cartPage_cart__restaurantName__Pic3m",cart__linkSearch:"cartPage_cart__linkSearch__PPQHz"},U=["quantity"],z=0;var Q=function(){var r=(0,l.TH)().pathname,t=(0,u.useState)(""),e=(0,c.Z)(t,2),o=e[0],f=e[1],v=(0,u.useState)(""),j=(0,c.Z)(v,2),x=j[0],N=j[1],b=(0,u.useState)(!1),g=(0,c.Z)(b,2),P=g[0],B=g[1],C=(0,u.useState)(!1),w=(0,c.Z)(C,2),O=w[0],Z=w[1],q=(0,u.useRef)(null),R=(0,u.useRef)(null),S=(0,d.v9)(m.fU),A=(0,d.v9)(m.iq),D=(0,d.v9)(m.co),Q=(0,d.v9)(h.Kj),T=(0,d.I0)(),W=(0,l.s0)();return(0,u.useEffect)((function(){window.scrollTo(0,0)}),[r]),(0,u.useEffect)((function(){var r=function(r){var t;null!==(t=q.current)&&void 0!==t&&t.contains(r.target)&&B(!1)};return document.body.addEventListener("click",r),function(){return document.body.removeEventListener("click",r)}}),[]),D?(0,k.jsxs)("div",{className:F.cart,children:[(0,k.jsx)("div",{className:i()(F.cart__container,"container"),children:(0,k.jsx)("div",{className:F.cart__inner,children:D&&S.map((function(r){var t=(0,c.Z)(r,2),e=t[0],o=t[1],d=Object.values(o.items),l=o.totalAmount,p=o.totalCount,v=d[0]&&d[0].restaurantName;return(0,k.jsxs)("div",{className:i()(F.cart__order,F.cart__order_border),children:[(0,k.jsxs)("div",{className:F.cart__top,children:[(0,k.jsx)("div",{className:F.cart__restaurantName,children:v}),(0,k.jsx)("div",{className:F.cart__clear,children:(0,k.jsxs)("button",{className:F.cart__clearBtn,onClick:function(){return function(r){var t=r.restaurantId,e=r.restaurantName;f(e),N(t),B(!0)}({restaurantId:e,restaurantName:v})},children:[(0,k.jsx)(s.G,{className:F.cart__clearIcon,icon:_.Vui,size:"lg"}),"clear"]})})]}),(0,k.jsx)("div",{className:F.cart__list,children:p?(0,k.jsxs)(k.Fragment,{children:[d.map((function(r){var t=r.quantity,e=(0,a.Z)(r,U);return(0,u.createElement)(L,(0,n.Z)((0,n.Z)({},e),{},{handleAddProduct:function(r){return t=r,void T((0,m.gK)(t));var t},handleDeleteProduct:function(r){return function(r,t){var e=r.id,n=r.restaurantId;T(t<1?(0,m.kh)({id:e,restaurantId:n}):(0,m.gb)({id:e,restaurantId:n}))}(r,t)},handleInputCount:function(r){return function(r){T((0,m.nQ)(r))}(r)},handleRemoveProduct:function(r){return function(r){var t=r.id,e=r.restaurantId;T((0,m.kh)({id:t,restaurantId:e}))}(r)},key:e.id,quantity:t}))})),(0,k.jsxs)("div",{className:i()(F.cart__orderInfo,F.cart__orderInfo_border),children:[(0,k.jsxs)("p",{className:F.cart__result,children:["Your order for the total amount $"," ",(0,k.jsx)("span",{className:F.cart__result_color,children:l&&l.toFixed(2)})," and"," ",(0,k.jsx)("span",{className:F.cart__result_color,children:p})," items"]}),(0,k.jsx)(y.k,{name:"Place an order",onClick:function(){return function(r,t){var e=A[r];Q?(f(t),N(r),z++,Z(!0),T((0,h.qQ)({list:e,name:t,orderNumber:z}))):W("/login")}(e,v)}})]})]}):null})]},e)}))})}),(0,k.jsx)(E,{handleCloseModal:function(){T((0,m.LL)({restaurantId:x})),Z(!1)},name:o,orderNumber:z,ref:R,show:O}),(0,k.jsx)(I,{handleClearOrder:function(){T((0,m.LL)({restaurantId:x})),B(!1)},handleClosePopup:function(){B(!1)},name:o,ref:q,show:P})]}):(0,k.jsx)("div",{className:F.cart,children:(0,k.jsx)("div",{className:i()(F.cart__container,"container"),children:(0,k.jsx)("div",{className:F.cart__inner,children:(0,k.jsxs)("div",{className:F.cart__empty,children:[(0,k.jsx)("p",{className:F.cart__name,children:"Shopping cart is empty"}),(0,k.jsx)("p",{className:F.cart__result,children:"Use the search to find everything you need."}),(0,k.jsx)(p.rU,{className:F.cart__linkSearch,to:"/search",children:"Go to search page"})]})})})})}},3782:function(r,t,e){e.d(t,{R:function(){return o}});var n=e(4942),a=e(1694),c=e.n(a),_={priceBlock__price:"priceBlock_priceBlock__price__4GC02",priceBlock__price_theme:"priceBlock_priceBlock__price_theme__pxvvX"},s=e(184);function o(r){var t=r.classNames,e=r.discount,a=r.price;return(0,s.jsxs)("div",{className:_.priceBlock,children:[e?(0,s.jsxs)("div",{className:c()(_.priceBlock__price,t),children:["$ ",(a-a*e/100).toFixed(2)]}):null,(0,s.jsxs)("div",{className:c()(_.priceBlock__price,t,(0,n.Z)({},_.priceBlock__price_theme,e)),children:["$",a.toFixed(2)]})]})}},630:function(r,t,e){e.d(t,{A:function(){return u}});var n=e(4942),a=e(9439),c=e(1694),_=e.n(c),s=e(2791),o={buttons:"counter_buttons__MwR8a",buttons__input:"counter_buttons__input__cPDJv",button:"counter_button__F1VDI",disabledBtn:"counter_disabledBtn__mVuPx"},i=e(184);function u(r){var t=r.classNames,e=r.handleInputQuantity,c=r.handleMinusProduct,u=r.handlePlusProduct,d=r.quantity,l=(0,s.useState)(d),p=(0,a.Z)(l,2),m=p[0],h=p[1];return(0,i.jsxs)("div",{className:_()(o.buttons,t),children:[(0,i.jsx)("button",{className:_()(o.button,o.buttons__plus,(0,n.Z)({},o.disabledBtn,m>98)),disabled:m>98,onClick:function(){u(),h(m+1)},children:"+"}),(0,i.jsx)("input",{className:_()(o.buttons__input),maxLength:"2",onChange:function(r){var t=r.target.value.replace(/[^0-9]/gi,"");""!==t?(h(+t),e(+t)):h("")},type:"text",value:m}),(0,i.jsx)("button",{className:_()(o.buttons__minus,o.button),onClick:function(){c(),h(m-1)},children:"\u2013"})]})}u.defaultProps={quantity:0}},4419:function(r,t,e){e.d(t,{s:function(){return h}});var n=e(4942),a=e(1694),c=e.n(a),_="discount_label__jB0h4",s="discount_label__discount__NdxTg",o="discount_label__discountPercent__0Xzk2",i="discount_label__discountOff__0eCdn",u="discount_smallLabel__JhXcr",d="discount_smallLabel__discount__lvwUU",l="discount_smallLabel__discountPercent__vbNrZ",p="discount_smallLabel__discountOff__cFEvX",m=e(184);function h(r){var t=r.classNames,e=r.discount,a="smallLabel"===r.view;return(0,m.jsxs)("div",{className:c()(_,t,(0,n.Z)({},u,a)),children:[(0,m.jsx)("div",{className:c()(s,(0,n.Z)({},d,a)),children:e}),(0,m.jsx)("div",{className:c()(o,(0,n.Z)({},l,a)),children:"%"}),(0,m.jsx)("div",{className:c()(i,(0,n.Z)({},p,a)),children:"off"})]})}},9831:function(r,t,e){e.d(t,{k:function(){return o}});var n=e(1694),a=e.n(n),c=e(3080),_={buttonOrder:"buttonOrder_buttonOrder__e7jBP"},s=e(184);function o(r){var t=r.classNames,e=r.name,n=r.onClick;return(0,s.jsxs)("button",{className:a()(_.buttonOrder,t),onClick:n,children:[e,(0,s.jsx)(c.Q,{className:_.buttonOrder__icon,src:"".concat("/foodwagon_project","/images/cards-big/btn.svg"),wrapper:"span"})]})}},5987:function(r,t,e){e.d(t,{Z:function(){return a}});var n=e(3366);function a(r,t){if(null==r)return{};var e,a,c=(0,n.Z)(r,t);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);for(a=0;a<_.length;a++)e=_[a],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(c[e]=r[e])}return c}}}]);
//# sourceMappingURL=912.ea087b4c.chunk.js.map